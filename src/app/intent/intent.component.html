<app-navbar activeName="intent"></app-navbar>
<div class="container">
  <br>
  <div class="row">
    <div class="col">
        <h3>Sprachanalyse </h3>
       <p> Der Start Button startet die Spracherkennung und Sprachanalyse.
           Mit dem Stop Button kann die Spracherkennung gestoppt werden.
           <i>Optional</i> kann der Text direkt eingegeben werden und an das Sprachmodell gesendet werden.</p>
    </div>

  </div>
  <hr>
  <div class="row">
    <div class="col">
      <p>Zunächst muss die Sprache des hinterlegten Sprachanalysemodells gewählt werden. </p>
    </div>
  </div>
  <app-intent-editor></app-intent-editor>
  <br>
  <div class="row">
    <div class="col">
        <ul class="list-group">
            <li class="list-group-item">
                <form>
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" [(ngModel)]="intentText" name="intent" placeholder="Hier steht, die Sprach- oder Texteingabe ..."/>
                    </div>
                </form>
            </li>
        </ul>
    </div>
  </div>
  <hr>
  <div *ngIf="intent">
      <div class="row">
          <div class="col col-lg-5" >
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                          id="inputGroup-sizing-default">
                      Literal:
                    </span>
                  </div>
                  <input type="text" class="form-control" placeholder="{{intent.literal}}"/>
              </div>
            </div>
            <div class="col col-lg-2" ></div>
            <div class="col col-lg-5" *ngIf="conceptFlag">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text"
                            id="inputGroup-sizing-default">
                        Literal:
                      </span>
                    </div>
                    <select class="custom-select" (change)="setConcept($event.target.value)">
                        <option *ngFor="let c of conceptList"> {{c.literal}} </option>
                      </select>
                </div>
              </div>
        </div>
        <div class="row">
            <div class="col col-lg-5" >
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text"
                            id="inputGroup-sizing-default">
                        Intent:
                      </span>
                    </div>
                    <input type="text" class="form-control" placeholder="{{intent.intent}}"/>
                </div>
              </div>
              <div class="col col-lg-2" ></div>
              <div class="col col-lg-5" *ngIf="conceptFlag">
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text"
                              id="inputGroup-sizing-default">
                          Konzept:
                        </span>
                      </div>
                      <input type="text" class="form-control" placeholder="{{concept.concept}}"/>
                  </div>
                </div>
          </div>
        <div class="row">
          <div class="col col-lg-5" >
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                    <span class="input-group-text"
                          id="inputGroup-sizing-default">
                      Confidence:
                    </span>
              </div>
              <input type="text" class="form-control" placeholder="{{intent.confidence}}"/>
            </div>
          </div>
          <div class="col col-lg-2" ></div>
          <div class="col col-lg-5" *ngIf="conceptFlag">
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                          id="inputGroup-sizing-default">
                      Wert:
                    </span>
                  </div>
                  <input type="text" class="form-control" placeholder="{{concept.value}}"/>
              </div>
            </div>
        </div>
        <hr>



  </div>
  <br>
  <div class="row">
    <div class="col">
        <div *ngIf="errorFlag" class="alert alert-warning" role="alert">
          {{errorText}}
        </div>
        <div *ngIf="!errorFlag"class="alert alert-success" role="alert">
            <li *ngFor="let message of messages">
                {{message}}
              </li>
        </div>
    </div>
    <div *ngIf="!intentText">
      <div class="col col-lg-1">
        <div *ngIf="!intentButtonOn">
            <button type="button" class="btn btn-outline-success" (click)="start()">Start</button>
          </div>
          <div *ngIf="intentButtonOn">
              <button type="button" class="btn btn-outline-success" (click)="stop()">Stop</button>
          </div>
      </div>
    </div>
    <div *ngIf="intentText">
      <button type="button" class="btn btn-outline-success" (click)="start()">Senden</button>
    </div>
  </div>
  <hr>

</div>
